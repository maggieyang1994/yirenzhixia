webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},r=a("VU/8")({name:"App",data:function(){return{}},mounted:function(){}},i,!1,null,null,null).exports,o=a("/ocq"),s=a("c/Tr"),c=a.n(s),l={name:"yi-pagination",props:{value:{type:Array},pageSizeProp:{type:Number,default:50}},data:function(){return{currentPage:1,pageSize:this.pageSizeProp}},methods:{handleSizeChange:function(t){this.pageSize=t},handleCurrentChange:function(t){this.currentPage=t}},computed:{computedList:function(){return this.value.slice((this.currentPage-1)*this.pageSize,(this.currentPage-1)*this.pageSize+this.pageSize)},pageSizes:function(){var t=this;return c()({length:Math.floor(this.value.length/this.pageSize)},function(e,a){return t.pageSize*(a+1)})}},watch:{computedList:function(t,e){this.$emit("handlerPageChange",t)}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-pagination",{attrs:{"current-page":this.currentPage,"page-sizes":this.pageSizes,"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.value.length},on:{"current-change":this.handleCurrentChange,"size-change":this.handleSizeChange}})],1)},staticRenderFns:[]},u={name:"HelloWorld",components:{pagination:a("VU/8")(l,h,!1,null,null,null).exports},data:function(){return{computedList:[],history:{}}},mounted:function(){this.history=localStorage.getItem("history")&&JSON.parse(localStorage.getItem("history")),this.$store.dispatch("getChapterList")},methods:{handlerPageChange:function(t){this.computedList=t}},computed:{chapterList:function(){return this.$store.state.chapter.chapterList},loading:function(){return this.$store.state.chapter.loading}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[t.history&&Object.keys(t.history).length?a("p",{staticClass:"p",staticStyle:{"text-align":"center"}},[a("a",{attrs:{href:t.history.path}},[t._v("上次看到: "+t._s(t.history.chapter))])]):t._e(),t._v(" "),a("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},t._l(t.computedList,function(e){return a("li",{key:e.chapterId},[a("router-link",{attrs:{to:{name:"detail",params:{chapterId:1*e.chapterId}}}},[t._v(t._s(e.chapter))])],1)}),0),t._v(" "),a("pagination",{attrs:{value:t.chapterList,id:"up"},on:{handlerPageChange:t.handlerPageChange}})],1)},staticRenderFns:[]};var d=a("VU/8")(u,p,!1,function(t){a("jJ+8")},"data-v-5bf6c7ca",null).exports,g=a("Dd8w"),m=a.n(g),f=a("mvHQ"),v=a.n(f),y=a("mtWM"),_=a.n(y),L=a("NYxO"),I={name:"detail",props:{chapterId:{require:!0,type:[Number,String]}},data:function(){return{imageList:[],mode:"updown"}},mounted:function(){this.getImageList(this.chapterId)},beforeRouteUpdate:function(t,e,a){this.getImageList(t.params.chapterId),a()},methods:{getImageList:function(t){var e=this;this.$store.commit("setLoading",!0),_.a.get("https://yirenzhixia.herokuapp.com/users/detail",{params:{chapterId:t}}).then(function(t){e.$store.commit("setLoading",!1),localStorage.setItem("history",v()({chapter:e.curChapter,path:"https://maggieyang1994.github.io/yirenzhixia"+e.$route.path})),e.imageList=t.data})}},computed:m()({curChapter:function(){var t=this;return this.$store.state.chapter.chapterList.length?this.$store.state.chapter.chapterList.find(function(e){return e.chapterId===1*t.chapterId}).chapter:localStorage.getItem("history").chapter},loading:function(){return this.$store.state.chapter.loading}},Object(L.b)(["total"]),{toPath:function(){return"/detail/"+(this.chapterId-1)+"/#up"}})},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"title"},[t._v(t._s(t.curChapter))]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{"text-align":"center"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},["updown"===t.mode?a("ul",t._l(t.imageList,function(t,e){return a("li",{key:e},[a("img",{attrs:{src:t.ImageUrl}})])}),0):a("el-carousel",{attrs:{"indicator-position":"none",arrow:"always",loop:!1,autoplay:!1,height:"1016px"}},t._l(t.imageList,function(t,e){return a("el-carousel-item",{key:e},[a("img",{attrs:{src:t.ImageUrl}})])}),1)],1),t._v(" "),a("p",{staticClass:"bottom"},[a("router-link",{attrs:{to:t.toPath}},[t._v("上一章")]),t._v(" "),a("router-link",{attrs:{to:{name:"detail",params:{chapterId:t.chapterId<t.total?1*t.chapterId+1:t.chapterId}}}},[t._v("下一章")]),t._v(" "),a("a",{on:{click:function(e){t.mode="leftRight"===t.mode?"updown":"leftRight"}}},[t._v("切换成"+t._s("leftRight"===t.mode?"滚动":"翻页")+"模式")]),t._v(" "),a("router-link",{attrs:{to:{name:"HelloWorld"}}},[t._v("返回章节目录")])],1)])},staticRenderFns:[]};var z=a("VU/8")(I,S,!1,function(t){a("mC94")},"data-v-28906344",null).exports;n.default.use(o.a);var C=new o.a({mode:"history",base:"/yirenzhixia/",routes:[{path:"/",name:"HelloWorld",component:d},{path:"/detail/:chapterId",name:"detail",component:z,props:!0}],scrollBehavior:function(t,e,a){return console.log("route",a),a||(t.hash&&document.querySelector(t.hash)?{selector:t.hash}:{x:0,y:0})}}),x=a("zL8q"),b=a.n(x),k=(a("tvR6"),{state:{chapterList:[],loading:!1},getters:{total:function(t){return t.chapterList.length}},mutations:{getChapterList:function(t,e){t.chapterList=e},setLoading:function(t,e){t.loading=e}},actions:{getChapterList:function(t){t.commit("setLoading",!0),_.a.get("https://yirenzhixia.herokuapp.com/users").then(function(e){t.commit("getChapterList",e.data),t.commit("setLoading",!1)})}}});n.default.use(L.a);var w=new L.a.Store({modules:{chapter:k}});n.default.config.productionTip=!1,n.default.use(b.a),new n.default({el:"#app",store:w,router:C,components:{App:r},template:"<App/>"})},"jJ+8":function(t,e){},mC94:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a5fe7b61c61d2b6b74f9.js.map